<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog
	xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.6.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

	<changeSet id="2" author="anush">
	<insert tableName="ROLE_MASTER">
			<column name="ROLE_NAME" value="MASTER-ADMIN" />
		</insert>
	<insert tableName="ROLE_MASTER">
			<column name="ROLE_NAME" value="ADMIN" />
	</insert>
			<insert tableName="ROLE_MASTER">
			<column name="ROLE_NAME" value="MANAGER" />
	</insert>
	 </changeSet>
	 <changeSet id="3" author="anush">
	 	<!--  add acls for these roles -->
		<loadData tableName="ROLE_ACLS" file="changelog/csvFiles/roleAcls.csv" separator="," />
	 </changeSet>
	 
	 <changeSet id="4" author="anush">
		 <addColumn tableName="ROLE_MASTER">
		 	<column name="IS_INTERNAL" type="TINYINT"  defaultValue="0"/>
		 </addColumn>
	 </changeSet>
	 <changeSet id="5" author="anush">
		<update tableName="ROLE_MASTER">
		 <column name="IS_INTERNAL" value="1"/>
        <where>ID = 1</where>
		</update>
	 </changeSet>
	 <changeSet id="6" author="anush">
		<addColumn tableName="TASKS">
		 <column name="PROGRESS" type ="INT" value="0"/>
		</addColumn>
	 </changeSet>
</databaseChangeLog>